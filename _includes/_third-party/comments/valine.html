{% unless site.duoshuo and site.duoshuo.shortname %}
  {% unless site.hypercomments_id or site.gentie_productKey or site.duoshuo_shortname or site.disqus.enable and site.disqus.shortname %}

    {% if page.comments and site.valine.enable %}
      <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
      <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
      <script>
        new Valine({
          el: '#comments',
          app_id: '{{ site.valine.leancloud_appid }}',
          app_key: '{{ site.valine.leancloud_appkey }}',
          placeholder: '{{ site.valine.placeholder }}',
          pageSize: 20,
          visitor: true,
          highlight: false,
          requiredFields: ['nick']
        })
      </script>
    {% endif %}

  {% endunless %}
{% endunless %}
